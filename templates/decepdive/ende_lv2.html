
{% extends 'layout_level2.html' %}

{% block content %}
<div class="content_level2">
    <div class="px-5 py-5">
        <div class="container">
            <h1>So hast du in Level 2 abgeschnitten:</h1>

            {% set dp_count = namespace(value=0) %}
            {% set data_count = namespace(value=0) %}
            {% for loesung in dp_list_lv2 %}
                <!-- Zähle anzahl richtig gelöster Dark Patterns allgemein-->
                {% if loesung == 1 %}
                    {% set dp_count.value = dp_count.value + 1 %}
                {% endif %}
                <!-- Zähle anzahl richtig gelöster Dark Patterns die sich auf den Daten Score auswirken-->
                {% if loop.index0 < 6  %}
                    {% if loesung == 1 %}
                        {% set data_count.value = data_count.value + 1 %}
                    {% endif %}
                {% endif %}
            {% endfor %}
            <div class="lightblue_box_shadow rounded py-4 px-4 my-3">
                <h2>Data Score</h2>   
                <p> Du hast <span class="text-primary fw-bolder">{{ data_count.value }} von 6</span> Dark Patterns, die dir Daten abluchsen wollten richtig gelöst
                    und damit <span class="text-primary fw-bolder "> {{data_count.value*10}}</span> von maximal  <span class="text-primary fw-bolder ">60</span>
                    Data Score Punkten behalten</p>
            </div>
            <div class="yellow_box_shadow rounded py-4 px-4 my-3">
                <h2>Geld Score</h2>
                {% if (session['warenkorb']+ session['spende_lv2']) == 13.98 %}
                    <h4>Perfekt gemacht!</h4>
                    <p>Du hast dir absolut keine Kosten unterschieben lassen.</p>
                    <p>Dein Geld Score beträgt damit: <span class="text-warning fw-bolder text_shadow">{{ session['geld_score']|round(2) }}</span>€</p>
                {% elif session['dp_preticked_monatl'] == None or  session['dp_preticked_monatl'] == 0 %}
                    <h4>Da du eine monatlich wiederkehrende Bestellung abgeschlossen hast, werden dir die 9€ für die Sonnencreme 2x abgebucht. </h4>
                    <p> Du hast in diesem Level <span class="text-warning fw-bolder text_shadow">{{ (session['warenkorb']+ session['spende_lv2']+9)|round(2) }}</span>
                        € verloren.
                    </p>
                    <p> Dein Geld Score in disem Level beträgt damit: 
                        <span class="text-warning fw-bolder text_shadow">{{ ((session['warenkorb']+ session['spende_lv2'])-9)|round(2) }}</span>
                        € von maximal möglichen <span class="text-warning fw-bolder text_shadow">11.02</span>€
                    </p>
                {% else %}
                    <p> Dein Geld Score in disem Level beträgt: 
                        <span class="text-warning fw-bolder text_shadow">{{ session['warenkorb']+ session['spende_lv2']|round(2) }}</span>
                        € von maximal möglichen <span class="text-warning fw-bolder text_shadow">11.02</span>€
                    </p>
                {% endif %}
            </div>
            <div class="green_box_shadow rounded py-4 px-4 my-3">
                <h2>Dark Pattern Score</h2> 
                <p>Du hast in Level 2 <span class="text-success fw-bolder">{{ dp_count.value }} von 10</span> Dark Patterns richtig gelöst
                und damit <span class="text-success fw-bolder "> {{dp_count.value*5}}</span> Dark Pattern Score Punkte erhalten</p>
            </div>
            <div class="accordion my-1" id="accordion_dp_1">
                <div class="accordion-item ">
                    <h2 class="accordion-header" id="heading_dp_1">
                        {% if session['dp_cookielv2_trickquestion'] == 0 or session['dp_cookielv2_trickquestion'] == None %}
                        <button class="accordion-button collapsed red_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_1" aria-expanded="true" aria-controls="collapse_dp_1">
                            Nicht gelöst: Trick Question Dark Pattern - Cookies ablehnen
                        </button>
                        {% else %}
                        <button class="accordion-button collapsed green_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_1" aria-expanded="true" aria-controls="collapse_dp_1">
                            Gelöst: Trick Question Dark Pattern - Cookies ablehnen
                        </button>
                        {% endif %}
                    </h2>
                    <div id="collapse_dp_1" class="accordion-collapse collapse" aria-labelledby="heading_dp_1" data-bs-parent="#accordion_dp_1">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col">
                                    <p>Beschreibung</p></div>
                                <div class="col">
                                    <img class="rounded" src="{{ url_for('static', filename='images/dark_pattern_screenshots/dark_pattern.png') }}" alt="Screenshot aus dem Spiel">
                                </div>
                            </div>              
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion my-1" id="accordion_dp_2">
                <div class="accordion-item ">
                    <h2 class="accordion-header" id="heading_dp_2">
                        {% if session['dp_cookielv2_trickquestion2'] == 0 or session['dp_cookielv2_trickquestion2'] == None %}
                        <button class="accordion-button collapsed red_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_2" aria-expanded="true" aria-controls="collapse_dp_2">
                            Nicht gelöst: Trick Question/ Bait and Switch Dark Pattern - Negativ Fragestellung und unerwartete Funktion der Antwortknöpfe.
                        </button>
                        {% else %}
                        <button class="accordion-button collapsed green_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_2" aria-expanded="true" aria-controls="collapse_dp_2">
                            Gelöst: Trick Question/ Bait and Switch Dark Pattern - Negativ Fragestellung und unerwartete Funktion der Antwortknöpfe.
                        </button>
                        {% endif %}
                    </h2>
                    <div id="collapse_dp_2" class="accordion-collapse collapse" aria-labelledby="heading_dp_2" data-bs-parent="#accordion_dp_2">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col">
                                    <p>Beschreibung</p></div>
                                <div class="col">
                                    <img class="rounded" src="{{ url_for('static', filename='images/dark_pattern_screenshots/dark_pattern_1.png') }}" alt="Screenshot aus dem Spiel">
                                </div>
                            </div>              
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion my-1" id="accordion_dp_3">
                <div class="accordion-item ">
                    <h2 class="accordion-header" id="heading_dp_3">
                        {% if session['dp_cookielv2_berechtigt'] == 0 or session['dp_cookielv2_berechtigt'] == None %}
                        <button class="accordion-button collapsed red_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_3" aria-expanded="true" aria-controls="collapse_dp_3">
                            Nicht gelöst: Trick Question/ Bait and Switch Dark Pattern - Doppelte Verneinung und unerwartete Gestaltung der Antwortknöpfe.
                        </button>
                        {% else %}
                        <button class="accordion-button collapsed green_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_3" aria-expanded="true" aria-controls="collapse_dp_3">
                            Gelöst: Trick Question/ Bait and Switch Dark Pattern - Doppelte Verneinung und unerwartete Gestaltung der Antwortknöpfe.
                        </button>
                        {% endif %}
                    </h2>
                    <div id="collapse_dp_3" class="accordion-collapse collapse" aria-labelledby="heading_dp_3" data-bs-parent="#accordion_dp_3">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col">
                                    <p>Beschreibung</p></div>
                                <div class="col">
                                    <img class="rounded" src="{{ url_for('static', filename='images/dark_pattern_screenshots/dark_pattern_2.png') }}" alt="Screenshot aus dem Spiel">
                                    <img class="rounded" src="{{ url_for('static', filename='images/dark_pattern_screenshots/dark_pattern_2_2.png') }}" alt="Screenshot aus dem Spiel">
                                </div>
                            </div>              
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion my-1" id="accordion_dp_4">
                <div class="accordion-item ">
                    <h2 class="accordion-header" id="heading_dp_4">
                        {% if  session['dp_vergleich'] == 0 or session['dp_vergleich'] == None %}
                        <button class="accordion-button collapsed red_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_4" aria-expanded="true" aria-controls="collapse_dp_4">
                            Nicht gelöst: Price Comparison Prevention Dark Pattern - Unterschiedliche Mengenangaben erschweren Preisvergleich.
                        </button>
                        {% else %}
                        <button class="accordion-button collapsed green_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_4" aria-expanded="true" aria-controls="collapse_dp_4">
                            Gelöst:  Price Comparison Prevention Dark Pattern - Unterschiedliche Mengenangaben erschweren Preisvergleich.
                        </button>
                        {% endif %}
                    </h2>
                    <div id="collapse_dp_4" class="accordion-collapse collapse" aria-labelledby="heading_dp_4" data-bs-parent="#accordion_dp_4">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col">
                                    <p>Beschreibung</p></div>
                                <div class="col">
                                    <img class="rounded" src="{{ url_for('static', filename='images/dark_pattern_screenshots/dark_pattern_3.png') }}" alt="Screenshot aus dem Spiel">
                                </div>
                            </div>              
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion my-1" id="accordion_dp_5">
                <div class="accordion-item ">
                    <h2 class="accordion-header" id="heading_dp_5">
                        {% if  session['dp_preticked_monatl'] == 0 or session['dp_preticked_monatl'] == None %}
                        <button class="accordion-button collapsed red_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_5" aria-expanded="true" aria-controls="collapse_dp_5">
                            Nicht gelöst: Preselection Dark Pattern - Monatlich wiederkehrende Bestellung standartmäßig ausgewählt.
                        </button>
                        {% else %}
                        <button class="accordion-button collapsed green_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_5" aria-expanded="true" aria-controls="collapse_dp_5">
                            Gelöst: Preselection Dark Pattern - Monatlich wiederkehrende Bestellung standartmäßig ausgewählt.
                        </button>
                        {% endif %}
                    </h2>
                    <div id="collapse_dp_5" class="accordion-collapse collapse" aria-labelledby="heading_dp_5" data-bs-parent="#accordion_dp_5">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col">
                                    <p>Beschreibung</p></div>
                                <div class="col">
                                    <img class="rounded" src="{{ url_for('static', filename='images/dark_pattern_screenshots/dark_pattern-4.png') }}" alt="Screenshot aus dem Spiel">
                                </div>
                            </div>              
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion my-1" id="accordion_dp_6">
                <div class="accordion-item ">
                    <h2 class="accordion-header" id="heading_dp_6">
                        {% if  session['dp_sneakinbasket'] == 0 or session['dp_sneakinbasket'] == None %}
                        <button class="accordion-button collapsed red_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_6" aria-expanded="true" aria-controls="collapse_dp_6">
                            Nicht gelöst: Sneak into Basket/Hidden Costs Dark Pattern - Artikel wird ungefragt in Warenkorb gelegt.
                        </button>
                        {% else %}
                        <button class="accordion-button collapsed green_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_6" aria-expanded="true" aria-controls="collapse_dp_6">
                            Gelöst: Sneak into Basket Dark Pattern - Artikel wird ungefragt in Warenkorb gelegt.
                        </button>
                        {% endif %}
                    </h2>
                    <div id="collapse_dp_6" class="accordion-collapse collapse" aria-labelledby="heading_dp_6" data-bs-parent="#accordion_dp_6">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col">
                                    <p>Beschreibung</p></div>
                                <div class="col">
                                    <img class="rounded" src="{{ url_for('static', filename='images/dark_pattern_screenshots/dark_pattern_5.png') }}" alt="Screenshot aus dem Spiel">
                                </div>
                            </div>              
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion my-1" id="accordion_dp_7">
                <div class="accordion-item ">
                    <h2 class="accordion-header" id="heading_dp_7">
                        {% if  session['dp_hiddennewsletter'] == 0 or session['dp_hiddennewsletter'] == None %}
                        <button class="accordion-button collapsed red_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_7" aria-expanded="true" aria-controls="collapse_dp_7">
                            Nicht gelöst: Misdirection Dark Pattern - Cookie-Manger öffnen
                        </button>
                        {% else %}
                        <button class="accordion-button collapsed green_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_7" aria-expanded="true" aria-controls="collapse_dp_7">
                            Gelöst: Misdirection Dark Pattern - Cookie-Manger öffnen
                        </button>
                        {% endif %}
                    </h2>
                    <div id="collapse_dp_7" class="accordion-collapse collapse" aria-labelledby="heading_dp_7" data-bs-parent="#accordion_dp_7">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col">
                                    <p>Beschreibung</p></div>
                                <div class="col">
                                    <img class="rounded" src="{{ url_for('static', filename='images/dark_pattern_screenshots/dark_pattern_6.png') }}" alt="Screenshot aus dem Spiel">
                                </div>
                            </div>              
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion my-1" id="accordion_dp_8">
                <div class="accordion-item ">
                    <h2 class="accordion-header" id="heading_dp_8">
                        {% if  session['dp_misdirect_login'] == 0 or session['dp_misdirect_login'] == None %}
                        <button class="accordion-button collapsed red_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_8" aria-expanded="true" aria-controls="collapse_dp_8">
                            Nicht gelöst: Click Fatique/Misdirection/(Forced Enrollment) Dark Pattern - Seite will Login erzwingen.
                        </button>
                        {% else %}
                        <button class="accordion-button collapsed green_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_8" aria-expanded="true" aria-controls="collapse_dp_8">
                            Gelöst: Click Fatique/Misdirection/(Forced Enrollment) Dark Pattern - Seite will Login erzwingen.
                        </button>
                        {% endif %}
                    </h2>
                    <div id="collapse_dp_8" class="accordion-collapse collapse" aria-labelledby="heading_dp_8" data-bs-parent="#accordion_dp_8">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col">
                                    <p>Beschreibung</p></div>
                                <div class="col">
                                    <img class="rounded" src="{{ url_for('static', filename='images/dark_pattern_screenshots/dark_pattern_7.png') }}" alt="Screenshot aus dem Spiel">
                                </div>
                            </div>              
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion my-1" id="accordion_dp_9">
                <div class="accordion-item ">
                    <h2 class="accordion-header" id="heading_dp_9">
                        {% if  session['dp_misdirect_konto_erstellen'] == 0 or session['dp_misdirect_konto_erstellen'] == None %}
                        <button class="accordion-button collapsed red_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_9" aria-expanded="true" aria-controls="collapse_dp_9">
                            Nicht gelöst: Misdirection/Bait and Switch Dark Pattern - Gwohnt plazierter "Weiter" Knopf erstellt ungewollt Konto.
                        </button>
                        {% else %}
                        <button class="accordion-button collapsed green_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_9" aria-expanded="true" aria-controls="collapse_dp_9">
                            Gelöst: Misdirection/Bait and Switch Dark Pattern - Gwohnt plazierter "Weiter" Knopf erstellt ungewollt Konto.
                        </button>
                        {% endif %}
                    </h2>
                    <div id="collapse_dp_9" class="accordion-collapse collapse" aria-labelledby="heading_dp_9" data-bs-parent="#accordion_dp_9">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col">
                                    <p>Beschreibung</p></div>
                                <div class="col">
                                    <img class="rounded" src="{{ url_for('static', filename='images/dark_pattern_screenshots/dark_pattern_8.png') }}" alt="Screenshot aus dem Spiel">
                                </div>
                            </div>              
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion my-1" id="accordion_dp_10">
                <div class="accordion-item ">
                    <h2 class="accordion-header" id="heading_dp_10">
                        {% if session['dp_misdirect_spende'] == 0 or session['dp_misdirect_spende'] == None %}
                        <button class="accordion-button collapsed red_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_10" aria-expanded="true" aria-controls="collapse_dp_10">
                            Nicht gelöst: Misdirection/Sneak/Bait and Switch in the Basket Dark Pattern - Spende wird untergejubelt.
                        </button>
                        {% else %}
                        <button class="accordion-button collapsed green_transparent_background" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_dp_10" aria-expanded="true" aria-controls="collapse_dp_10">
                            Gelöst: Misdirection/Sneak/Bait and Switch in the Basket Dark Pattern - Spende wird untergejubelt.
                        </button>
                        {% endif %}
                    </h2>
                    <div id="collapse_dp_10" class="accordion-collapse collapse" aria-labelledby="heading_dp_10" data-bs-parent="#accordion_dp_10">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col">
                                    <p>Beschreibung</p></div>
                                <div class="col">
                                    <img class="rounded" src="{{ url_for('static', filename='images/dark_pattern_screenshots/dark_pattern_9.png') }}" alt="Screenshot aus dem Spiel">
                                </div>
                            </div>              
                        </div>
                    </div>
                </div>
            </div>
            <a href="{{ url_for('home_intro') }}" class="btn btn-success w-25 mt-5 float-end">Spiel abschließen und zurück zu Übersicht</a>
        </div>
    </div>
    <!-- Kosmetisch: Seite bis unten ausfüllen -->
    <div style="height: 160px;"></div>
</div>
{% endblock %}

